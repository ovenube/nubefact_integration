[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Invoice", 
  "modified": "2016-01-25 14:06:09.501317", 
  "name": "Sales Invoice-Client", 
  "script": "frappe.ui.form.on(\"Sales Invoice\", \"customer\",\n    function(frm) {\n        frappe.call({\n            \"method\": \"frappe.client.get\",\n            args: {\n                doctype: \"Customer\",\n                name: frm.doc.customer\n            },\n            callback: function (data) {\n                if (data.message.tax_id != null) {\n                    frappe.model.set_value(frm.doctype, frm.docname, \"sales_type\", \"Factura de Venta\");\n                    frappe.model.set_value(frm.doctype, frm.docname, \"naming_series\", \"FV-001-\");\n                }\n                else {\n                    frappe.model.set_value(frm.doctype, frm.docname, \"sales_type\", \"Boleta de Venta\");\n                    frappe.model.set_value(frm.doctype, frm.docname, \"naming_series\", \"BV-001-\");\n                }\n            }\n        })\n    });\n\nfrappe.ui.form.on(\"Sales Invoice\", \"validate\",\n    function(frm) {\n        frappe.model.set_value(frm.doctype, frm.docname, \"update_stock\", true);\n        if (frm.doc.tax_id != null){\n                if (frm.doc.sales_type != \"Factura de Venta\")\n                {\n                        frappe.model.set_value(frm.doctype, frm.docname, \"naming_series\", \"FV-004-\");\n                }\n                else {\n                        frappe.model.set_value(frm.doctype, frm.docname, \"naming_series\", \"FV-001-\");\n                }\n         }\n         else {\n                    frappe.model.set_value(frm.doctype, frm.docname, \"naming_series\", \"BV-004-\");\n                }\n    });", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Order", 
  "modified": "2016-01-25 14:17:35.626166", 
  "name": "Sales Order-Client", 
  "script": "frappe.ui.form.on(\"Sales Order\", \"customer\",\n    function(frm) {\n        frappe.call({\n            \"method\": \"frappe.client.get\",\n            args: {\n                doctype: \"Customer\",\n                name: frm.doc.customer\n            },\n            callback: function (data) {\n                if (data.message.tax_id != null) {\n                    frappe.model.set_value(frm.doctype, frm.docname, \"sales_type\", \"Ticket Factura\");\n                }\n                else {\n                    frappe.model.set_value(frm.doctype, frm.docname, \"sales_type\", \"Ticket Boleta\");\n                }\n            }\n        })\n    });\n\nfrappe.ui.form.on(\"Sales Order\", \"customer_address\",\n    function(frm) {\n        frappe.call({\n            \"method\": \"frappe.client.get\",\n            args: {\n                doctype: \"Customer\",\n                name: frm.doc.customer\n            },\n            callback: function (data) {\n                if (data.message.tax_id != null){\n                      frappe.call({\n                            \"method\": \"frappe.client.get\",\n                            args: {\n                                doctype: \"Address\",\n                                name: frm.doc.customer_address\n                            },\n                            callback: function (data) {\n                                frappe.model.set_value(frm.doctype, frm.docname, \"address_line\",                                 data.message.address_line1);\n                            }\n                        })\n                 }\n            }\n        })\n    });", 
  "script_type": "Client"
 }
]